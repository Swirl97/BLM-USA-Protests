<!DOCTYPE html>
<html lang="en">
<head>
    <title>Protests Across America</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <!--meta data for sharing links on Facebook-->
    <meta property="og:title" content="{Protests Across America}"/>
    <meta property="og:url" content="https://blacklivesmatters.carrd.co/"/>
    <meta property="og:description" content="This is an example of a storymap."/>

    <!--add required stylesheets-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <!--leaflet css-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.4.0/leaflet.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css">


    <!--add favicon for the web page-->
    <link rel="shortcut icon" href="../../img/favicon.ico" type="image/x-icon">

    <!--Fonts-->
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display" rel="stylesheet">


    <link rel="stylesheet" type="text/css" href="css/storymap.2.5.css">
    <!--add required libraries-->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.4.0/leaflet.js"></script>
    <!--jquery-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>

    <!--boostrap-->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <!--leaflet.ajax for asynchronously adding geojson data-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>
    <script src="/js/leaflet-0.7.2/leaflet.ajax.min.js"></script>

    <!--mini globle map-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.19/topojson.min.js"></script>
    <script src="../../js/globeminimap.js"></script>

    <!--story map plugin-->
    <script src="js/storymap.2.5.js"></script>
</head>
<body>

<div id="storymap" class="container-fluid">
    <div class="row">
        <div class="col-sm-6 col-md-4 storymap-story">
            <section data-scene="overview" data-background="assets/BLMPicSlides.mp4">
                <div class="fullscreen text-center">

                    <h1 class="display-4 d-flex justify-content-center"><br><br><br>Black Lives Matter Protests in America</h1>

                    <small class="d-flex justify-content-center" style="color: rgba(255,255,255,0.95)">

                    </small>
                </div>
            </section>
            <section data-scene="washington">
                <h2> Recent News in <br> Washington State </h2>
                <h4> Black Lives Matter group in Seattle meets with Mayor Durkan, calls for general strike and march</h4>
                <a href="https://www.seattletimes.com/seattle-news/politics/black-lives-matter-group-in-seattle-meets-with-mayor-durkan-calls-for-general-strike-and-march/">Link to Article</a>
                <p>Black Lives Matter Seattle – King County is calling for a statewide general strike and silent march on Friday, June 12, the group announced Saturday.</p>
            </section>

            <section data-scene="minnesota">
                <h2>Recent News in <br> Minnesota State </h2>
                <h4> Minnesota state troopers admit "strategically" deflating tires during George Floyd protests </h4>
                <a href="https://www.cbsnews.com/news/minnesota-state-patrol-deflated-tires-protests-george-floyd-black-lives-matter/">Link to Article</a>
                <p>Minnesota State Patrol troopers have admitted to "strategically" deflating tires during protests following the death of George Floyd. The state's Department of Public Safety (DPS) confirmed the action, CBS Minnesota reports, after social media videos emerged of officers appearing to slash tires in parking lots amid the demonstrations.</p>
            </section>

            <section data-scene="connecticut">
                <h2>Recent News in <br> Connecticut State</h2>
                <h4> Black Lives Matter Protest In Milford Draws Hundreds </h4>
                <a href="https://patch.com/connecticut/milford/peaceful-black-lives-matter-protest-milford-draws-hundreds">Link to Article</a>
                <p>The protest was a small-town gathering but no less impactful than the protests in major cities across the country featuring thousands of marchers.</p>
            </section>

            <section data-scene="sanfran">
                <h2> Recent News in <br> San Franciso, CA </h2>
                <h4> 'Unfortunate mistake': SF Public Works apologizes for painting over 'Black Lives Matter' mural </h4>
                <a href="https://abc7news.com/black-lives-matter-bernal-rock-san-francisco-message/6239733/">Link to Article</a>
                <p>The Bernal Rock as many know it, has become a public message board. For the past week the message has been "Black Lives Matter" but overnight it has been tagged and painted over multiple times.</p>
            </section>

            <section data-scene="lax">
                <h2> Recent News in <br> Los Angeles, CA </h2>
                <h4> All Black Lives Matter March to Proceed Without L.A. Pride </h4>
                <a href="https://www.hollywoodreporter.com/news/all-black-lives-matter-march-proceed-la-pride-1297548">Link to Article</a>
                <p>Christopher Street West, the nonprofit behind L.A. Pride, dropped out of the event after a permit application to the L.A. police department drew backlash on social media.
The All Black Lives Matter solidarity march will continue — but without L.A. Pride, the latter's organizer, Christopher Street West, announced on Monday. </p>
            </section>

            <section data-scene="illinois">
                <h2> Recent News in <br> Illinois </h2>
                <h4> Quincy Protesters Affirm That Black Lives Matter </h4>
                <a href="https://news.stlpublicradio.org/post/quincy-protesters-affirm-black-lives-matter">Link to Article</a>
                <p> Quincy, Illinois, is among the thousands of cities across the country where demonstrations against police brutality have taken place in the past two weeks. Illinois’ Gem City has a population of about 40,000, with nearby Hannibal adding another 17,000.</p>
            </section>

            <section data-scene="end" data-background="img/banner.jpg">
                <div class="fullscreen text-center">
                    <h1 class="display-4 d-flex justify-content-center">#BLACKLIVESMATTER</h1>
                    <small class="d-flex justify-content-center" style="color: rgba(255,255,255,0.95)">

                    </small>
                </div>
            </section>

        </div>
        <!--map div-->
        <div class="col-sm-6 col-md-8 storymap-map"></div>
    </div>


    <dl>
        <dt>
            <!--facebook share icon-->
            <a class="fab fa-facebook-square btn"
               href="https://facebook.com/sharer.php?u=https://blacklivesmatters.carrd.co/"
               target="_blank"></a>
        </dt>
        <dt>
            <!--github icon-->
            <a class="fab fa-github btn" href="https://github.com/Swirl97/BLM-USA-Protests" style="top:40px"
               target="_blank"></a>
        </dt>
        <dt>
            <!--info icon-->
            <i class="fas fa-info-circle btn" style="top:60px" data-toggle="modal" data-target="#info-modal"></i>
        </dt>
    </dl>

    <!--the info page-->
    <div class="modal fade" id="info-modal" role="dialog">
        <div class="modal-dialog modal-md">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">About</h4>
                </div>
                <div class="modal-body">
                    <p>This is a web map of Black Lives Matter protests in America. The story map library is derived from the
                        storymap plugin for leaflet at <a>http://atlefren.github.io/storymap/</a>, and its functionality
                        relies on both leaflet and Boostrap. As a student, I received this from my professor. </p>
                    <p><b>storymap.js</b> | Released Date: 02/20/2017 | Version: 2.5 | MIT License </p>
                    <p><b>Author: Sarah Liu</b> | College of Arts & Sciences | University of Washington
                    </p>
                    <p>Most of the information posted here are from different news sources. </p>
                    <p>The background video of the title page was made by me! </p>
                    <p>This story map uses geospatial data from mapbox, Google Earth Engine, ESRI Map and Open Street Maps.</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- main javascript -->
<script type="text/javascript">


    // Create Legend Contents in html format
    var protest_legend = '<i style="background: orange; opacity: 0.5"></i><p><b>Protests</b></p>';
    var iconicon =L.icon({iconUrl: 'img/strong.png', iconSize: [45, 40]});
    var layers = {
        ESRI: {layer: L.tileLayer('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}')},
        protests: {
            layer: L.geoJson.ajax('assets/protests.geojson', {
                color: 'orange',
                weight: 2,
                opacity: 0.3
            }), legend: protest_legend
        },
        GEE: {
            layer: L.tileLayer('http://earthengine.google.org/static/hansen_2013/tree_alpha/{z}/{x}/{y}.png'),
            legend: protest_legend
        },
        satellite: {
            layer: L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiamFrb2J6aGFvIiwiYSI6ImNpcms2YWsyMzAwMmtmbG5icTFxZ3ZkdncifQ.P9MBej1xacybKcDN_jehvw', {
                id: 'mapbox.streets'
            })
        },
        cartodb_light: {layer: L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager_labels_under/{z}/{x}/{y}.png')
        },
        markers: {
        layer: L.geoJson.ajax('assets/protests.geojson', {
          pointToLayer: function(feature, latlng){
            return L.marker(latlng, {icon: iconicon})
          }})
      }};

    //Attempt to add markers
    /*var markers L.geoJson.ajax("assets/protests.geojson", {
        onEachFeature: function(feature, layer) {
            layer.bindPopup(feature.properties.Name);
        },
        pointToLayer: function (feature,latlng) {
          return L.marker(latlng);
        },
    }).addTo(map);
    */

    var scenes = {
        overview: {lat: 38.2700, lng: 100.8603, zoom: 2, name: 'Cover Page', layers: []},
        washington: {lat: 47.7510528, lng: -120.8701782, zoom: 7, name: 'Washington', layers: [layers.markers]},
        minnesota: {lat: 46.7295316, lng: -94.7559395, zoom: 7, name: 'Minnesota', layers: [layers.markers]},
        connecticut: {lat: 41.6032154, lng: -73.1237884, zoom: 9, name: 'Connecticut', layers: [layers.markers]},
        sanfran: {lat: 37.7749243, lng: -122.454435, zoom: 11, name: 'San Franciso', layers: [layers.markers]},
        lax: {lat: 34.0522292, lng: -118.2787044, zoom: 9, name: 'Los Angeles', layers: [layers.markers]},
        illinois: {lat: 40.6331196, lng: -89.4335477, zoom: 7, name: 'Illinois', layers: [layers.markers]},
        end: {lat: 38.2700, lng: -100.8603, zoom: 2, name: 'The End', layers: []}
    };

    $('#storymap').storymap({
        scenes: scenes,
        baselayer: layers.cartodb_light,
        legend: true, // if you do not want a legend feature, you can simply not define the createLegend function.
        credits: "",
        loader: true,
        scalebar: false,
        fly: true,
        navwidget: true,

        createMap: function () {
            // create a map in the "map" div, set the view to a given place and zoom
            var map = L.map($(".storymap-map")[0], {
                zoomControl: false, scrollWheelZoom: false, fadeAnimation: true,
                zoomAnimation: true
            }).setView([44, -120], 7);
            return map;
        }
    });
</script>
</body>
</html>
